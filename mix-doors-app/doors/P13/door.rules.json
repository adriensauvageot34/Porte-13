{
  "path": {
    "trialMax": 2,
    "commitRequired": true,
    "commitUnique": true,
    "afterCommitChangeRequiresFail": true,
    "afterCommitRef": "R3-07"
  },
  "targets": {
    "primaryRequired": true,
    "primaryUnique": true,
    "primaryDefault": "RETURNS",
    "secondaryMax": 2
  },
  "supportsPolicy": {
    "supportsRequiredWhen": {
      "primaryNotIn": ["LEAD"],
      "orSecondaryNotEmpty": true
    },
    "supportTestsIds": ["mute_supports","mute_lead","side_only"],
    "rule": "IF supportsRequired THEN at least one support test must be PASS or FAIL (not all SKIP/empty)."
  },
  "doneGates": [
    { "type":"requiredField", "path":"path.commit", "message":"PATH_COMMIT manquant" },
    { "type":"requiredTestNotSkipped", "testId":"sig_ab", "message":"SIG_OFF vs ON non-skippable" },
    { "type":"requiredTestNotSkipped", "testId":"path_commit", "message":"PATH_COMMIT valid√© requis" },
    { "type":"supportsPolicy", "message":"Supports requis: tests supports non tous SKIP" }
  ]
}
